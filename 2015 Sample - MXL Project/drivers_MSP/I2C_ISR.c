/************************************************************ 


************************************************************/

#include "msp430.h"
#include "I2C.h"



/************************************************************
****                                                     ****
**                                                         **
Tx0 ISR

**                                                         **
****                                                     ****
************************************************************/
#pragma vector = USCIAB0TX_VECTOR
__interrupt void USCI_B0_TX_ISR(void)
{
/********************************************************************************
 * Determine which I2C action to take
 *******************************************************************************/
  switch (IFG2)
  { 
    /********************************************************************************
    * A byte has been transferred to the RX buffer 
    *******************************************************************************/
    case UCB0RXIFG:   
                    I2C_IsrRX_Master();         /* Read in the character from I2C */
                    break;

    /********************************************************************************
    * The transmit buffer is ready to accept a new byte
    *******************************************************************************/
    case UCB0TXIFG: 
                    I2C_IsrTX_Master();                /* Tx character to I2C bus */
                    break;

    /********************************************************************************
    * Do Nothing if any other flag is set.  The flag will be handled within the 
    * I2C driver code.
    *******************************************************************************/
    default:
                    _NOP();
                    break;
  }
} 




/************************************************************
****                                                     ****
**                                                         **
Rx0 ISR

**                                                         **
****                                                     ****
************************************************************/
#pragma vector = USCIAB0RX_VECTOR
__interrupt void USCI_B0_RX_ISR(void)
{
/********************************************************************************
 * Determine which I2C action to take
 *******************************************************************************/
  switch (IFG2)
  {
    /********************************************************************************
    * Receive Ready Flag has been set
    *******************************************************************************/
    case UCB0RXIFG:   
                    I2C_IsrRX_Master();
                    break;

    /********************************************************************************
    * Transmit Ready Flag has been set
    *******************************************************************************/
    case UCB0TXIFG:
                    I2C_IsrTX_Master();
                     break;

    /********************************************************************************
    * Do Nothing if any other flag is set.  The flag will be handled within the 
    * I2C driver code.
    *******************************************************************************/
    default:
                    break;
  }
}






