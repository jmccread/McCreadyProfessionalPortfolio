/******************************************
 *  ____    ____   ____  ____   _____     *	
 * |_   \  /   _| |_  _||_  _| |_   _|    *
 *   |   \/   |     \ \  / /     | |      *
 *   | |\  /| |      > `' <      | |   _  *
 *  _| |_\/_| |_   _/ /'`\ \_   _| |__/ | *	
 * |_____||_____| |____||____| |________| *	
 *                                        *	
 ******************************************/
 
/**
 * author: 	Joshua McCready 
 * email:	jmccread@umich.edu
 * date:	07/30/2014
 */

/******************************************************************************
* Includes 
******************************************************************************/
#include "task_lea_6.h"

/******************************************************************************
* Globals 
******************************************************************************/
gps_struct gps_msg; 
uint8_t error_task_lea_6;

/******************************************************************************
* task_lea_6.c
******************************************************************************/
void task_lea_6(void) {
 initialize_lea_6();
  while(1) 
    {
    preprocgps(&gps_msg);
    
    // TO DO: Find a way of reliquishing the scheduler in the event of broken UART
    error_task_lea_6= poll_gpgga(5000000);
    OS_Delay(50);
    error_task_lea_6= updateGPS(&gps_msg);
    postprocgps(&gps_msg);
    OS_Delay(TASK_LEA_6_DELAY); 
    }
  }

